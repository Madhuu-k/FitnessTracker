<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rodyn</title>
    <link rel="icon" type="image/jpeg" href="public/Rodyncropped.jpeg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="src/App.css">
</head>
<body>
    <header class="header">
        <img class="logo" src="public/head.jpg" alt="Room">
        <h1 class="head" style="color: rgb(255, 255, 255);">RODYN</h1>
    </header>

    <nav class="navbar">
        <ul class="index">
            <li><a href="index.html">Home</a></li>
            <li><a href="#">About Us</a></li>
            <li><a href="src/Credits.jsx">Credits</a></li>
        </ul>
        <div class="signup">
             <a class="signup-btn" href="javascript:void(0)" onclick="openModal('signupModal')">Sign up</a>
        </div>
        <div class="login">
            <a class="login-btn" href="javascript:void(0)" onclick="openModal('loginModal')">Log in</a>
        </div>
    </nav>

    <div class="page1">
        <img src="public/Page-1.jpg" class="page1Image" alt="Fitness Page">
        <h1 id="page1Heading">Track Your Fitness. Journey with Rodyn</h1>
        <p id="page1Text" style="font-size: 1.1em;">Rodyn empowers you to monitor your physical activity, diet, and overall health effortlessly. With features like workout logging and real-time data syncing, achieving your fitness goals has never been easier.</p>
    </div>
    <hr>

    <div>
        <h1 id="page2Heading">Unlock Your Fitness Journey with Rodyn</h1>
        <p id="page2Text">Rodyn offers a comprehensive suite of features to help you stay on track with your fitness goals. From logging workouts to monitoring your daily steps, we provide the tools you need for success.</p>

        <div class="cards">
<a class="card-link" href="MainWorkoutPage.html">
    <div class="Card">
        <img class="Cardimage" src="public/workout.jpg" alt="Workout Image">
        <h2 class="Title">Log Your Workouts Effortlessly.</h2>
        <p>Easily record your workouts and track your progress over time.</p>
    </div>
</a>


<a href="step-tracker.html" class="card-link">
    <div class="Card">
        <img class="Cardimage" src="public/walk.jpg" alt="Walking Tracker Image">
        <h2 class="Title">Track Your Steps with Precision.</h2>
        <p>Monitor your daily activity and stay motivated to reach your goals.</p>
    </div>
</a>


            <a href="#" class="card-link">
                <div class="Card">
                    <img class="Cardimage" src="public/food.jpg" alt="">
                    <h2 class="Title">Monitor Your Caloric Intake Effectively.</h2>
                    <p>Keep an eye on your nutrition and make informed dietary choices.</p>
                </div>
            </a>
        </div>
    </div>
    <br><br>
    <hr>

    <div>
        <h1 id="page3Heading">Discover How Our App Empowers Your Fitness Journey.</h1>
        <p id="page3Text">Our fitness tracker app seamlessly integrates with your favorite wearable devices, allowing you to monitor your activity in real-time. From logging workouts to tracking your diet, we provide the tools you need to achieve your health goals.</p>

        <div class="cards">
            <div class="Card1">
                <img class="Cardimage1" src="public/cube-solid.png" alt="">
                <h2 class="Title">Sync Your Wearables for Real-Time Insights.</h2>
                <p>Connect your Google Fit to receive instant feedback on your performance.</p>
            </div>
            <div class="Card1">
                <img class="Cardimage1" src="public/cube-solid.png" alt="">
                <h2 class="Title">Personalized Recommendations Tailored Just for You.</h2>
                <p>Our app analyzes your data to provide customized fitness tips.</p>
            </div>
            <div class="Card1">
                <img class="Cardimage1" src="public/cube-solid.png" alt="">
                <h2 class="Title">Comprehensive Progress Reports to Keep You Motivated.</h2>
                <p>Stay on track with detailed insights into your progress.</p>
            </div>
        </div>
    </div>
    <hr>

    <h1 id="page3Heading">Transform Your Fitness Journey Today.</h1>
    <p id="page3Text">Start tracking your health and fitness effortlessly.</p>

    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 Your Company. All Rights Reserved.</p>
            <div class="social-icons">
                <a href="https://www.facebook.com" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-facebook"></i>
                </a>
                <a href="https://www.twitter.com" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="https://www.instagram.com" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.linkedin.com" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-linkedin"></i>
                </a>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <h2>Login</h2>
            <input type="email" id="loginEmail" placeholder="Email" required>
            <input type="password" id="loginPassword" placeholder="Password" required>
            <button class="modal-btn" onclick="submitLogin()">Login</button>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('signupModal')">&times;</span>
            <h2>Sign Up</h2>
            <input type="email" id="signupEmail" placeholder="Email" required>
            <input type="text" id="signupUsername" placeholder="Username" required>
            <input type="password" id="signupPassword" placeholder="Password" required>
            <button class="modal-btn" onclick="submitSignup()">Sign Up</button>
            <p style="cursor: pointer; text-decoration: underline;" href="javascript:void(0)" onclick="openModal('loginModal')">Have an account? Login.</p>
        </div>
    </div>

    <script>
        function openModal(id) {
             // Close all modals first
        document.querySelectorAll('.modal').forEach(modal => {
        modal.style.display = "none";
    });
    // Then open the requested modal
        document.getElementById(id).style.display = "block";
        }

        function closeModal(id) {
            document.getElementById(id).style.display = "none";
        }

        window.onclick = function(event) {
            const modals = ["loginModal", "signupModal"];
            modals.forEach(id => {
                const modal = document.getElementById(id);
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        };

        async function submitSignup() {

        const userData = {
        email: document.getElementById('signupEmail').value,
        username: document.getElementById('signupUsername').value,
        password: document.getElementById('signupPassword').value
    };

    try {
        const response = await fetch("http://localhost:8080/users/signup", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(userData)
        });

        const data = await response.json();
        console.log("Backend response:", data); // Check browser console
        
        if (response.ok) {
            alert("Signup successful!");
            closeModal("signupModal");
        } else {
            alert(`Signup failed: ${data.message || 'Unknown error'}`);
        }
    } catch (error) {
        console.error("Signup error:", error);
        alert("Network error - check console for details");
    }
}

        async function submitLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            const user = { email, password };

            const response = await fetch("http://localhost:8080/users/signup", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(user)
            });

            if (response.ok) {
                alert("Login successful!");
                closeModal("loginModal");
            } else {
                alert("Login failed!");
            }
        }

        // Close all modals first
document.querySelectorAll('.modal').forEach(modal => {
    modal.style.display = "none";
});

// Then open the requested modal (if any)
document.getElementById(id).style.display = "block";

// Redirect to the MainWorkoutPage.html after signup
window.location.href = "MainWorkoutPage.html";

    </script>

</body>
</html>
